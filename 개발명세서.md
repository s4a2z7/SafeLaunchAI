# SafeLaunch AI 개발명세서 (Development Specification)

**프로젝트명:** SafeLaunch AI — 수익형 앱 저작권 및 정책 매니저  
**문서 버전:** 1.0  
**기준일:** 2026-01-31  
**참조:** 기획안.md

---

## 1. 문서 개요

본 문서는 SafeLaunch AI의 **기능 명세**, **기술 명세**, **모듈 명세**, **데이터 설계**, **UI/UX 명세**를 정의합니다. 구현 시 본 명세를 기준으로 일관성을 유지합니다.

---

## 2. 기능 명세 (Functional Specification)

### 2.1 핵심 기능

| ID | 기능명 | 설명 | 우선순위 |
|----|--------|------|----------|
| F-1 | URL 입력 및 벤치마킹 | 사용자가 타겟 앱/웹 URL 입력 시 해당 페이지에서 기능·문구·정책 관련 요소 추출 | Must |
| F-2 | 리스크 분석 (RS 점수) | C·P·L·O 4요소 기반 리스크 관리 지수(RS) 계산 및 시각화 | Must |
| F-3 | AI 사전 심사 리포트 | IT 전문 변호사 페르소나 기반 분석 요약, 대안(Fix_Guide), 7단계 체크리스트 제공 | Must |
| F-4 | 법률 RAG 검색 | ChromaDB에 저장된 법령·판례·스토어 정책을 검색해 분석 근거로 활용 | Must |
| F-5 | 출시 준비도·상태 표시 | Launch_Readiness_Score(0~100), Status(Ready/Needs Fix/Blocker) 표시 | Must |

### 2.2 부가 기능

| ID | 기능명 | 설명 | 우선순위 |
|----|--------|------|----------|
| F-6 | 법률 데이터 동기화 | 국가법령정보 Open API 연동으로 Vector DB 주기적 갱신 | Should |
| F-7 | 수정 예상 시간 표시 | 리스크 항목별 예상 수정 시간 노출 | Could |
| F-8 | 정밀 검토/구독 모델 연동 | 단건 정밀 검토·정기 모니터링 유료 플로우 (향후) | Could |

### 2.3 비기능 요구사항

- **성능:** URL 분석 1회당 목표 응답 시간 60초 이내 (스크래핑 + RAG + LLM 포함)
- **보안:** API Key는 `.env` 관리, 저장소에 커밋 금지
- **호환:** Python 3.9+, Windows/macOS/Linux 지원
- **인코딩:** 전체 입출력 UTF-8

---

## 3. 기술 명세 (Technical Specification)

### 3.1 기술 스택

| 구분 | 기술 | 용도 |
|------|------|------|
| Frontend | Streamlit | 출시 준비 대시보드 UI |
| Data Collection | Selenium / BeautifulSoup4 | 벤치마킹 대상 페이지 스크래핑 |
| Vector DB | ChromaDB | 법령·판례·스토어 정책 임베딩 저장·검색 |
| AI Engine | Claude 3.5 Sonnet (JSON Mode) | 정형화된 분석·리포트 생성 |
| Language | Python 3.9+ | 전 모듈 공통 |
| 기타 | LangChain(선택), Pandas | RAG 오케스트레이션, 데이터 정제 |

### 3.2 디렉토리 구조 (산출물 기준)

```
/safelaunch-ai
├── app.py                  # Streamlit 메인 진입점
├── core/
│   ├── benchmarker.py      # 타겟 URL 스크래핑
│   ├── legal_rag.py        # ChromaDB 검색·판례 추출
│   ├── analyzer.py         # RS 계산·LLM 연동
│   └── strategist.py       # 우회 전략·리포트 생성
├── database/               # ChromaDB 로컬 저장소
├── utils/
│   ├── prompts.py          # 페르소나·UX 프롬프트
│   └── ui_helper.py        # 차트·카드 시각화
├── .env                    # API Key (미커밋)
├── requirements.txt
└── docs/
    ├── 개발명세서.md        # 본 문서
    ├── API명세서.md
    └── dev-logs/           # 개발일지 (YYYY-MM-DD.md)
```

---

## 4. 모듈 명세 (Module Specification)

### 4.1 app.py
- **역할:** Streamlit 앱 진입점, 라우팅, 레이아웃
- **주요 동작:** URL 입력 폼 → core 호출 → 결과를 게이지·신호등·카드로 표시
- **의존:** core.benchmarker, core.legal_rag, core.analyzer, core.strategist, utils.ui_helper

### 4.2 core/benchmarker.py
- **역할:** 타겟 URL에서 기능·문구·정책 관련 요소 추출
- **입력:** URL 문자열
- **출력:** 구조화된 메타데이터 (기능 목록, 문구 샘플, 결제/개인정보 관련 텍스트 등)
- **도구:** Selenium 또는 BeautifulSoup4, 선택 시 headless Chrome

### 4.3 core/legal_rag.py
- **역할:** ChromaDB 조회, 쿼리와 유사한 법령·판례·정책 청크 반환
- **입력:** 쿼리 문자열, 옵션(상위 k개, 점수 임계치)
- **출력:** 문서 리스트(텍스트, 메타데이터, 유사도 점수)
- **제약:** 유사도 임계치 미달 결과는 제외(카더라 방지)

### 4.4 core/analyzer.py
- **역할:** RS 공식 적용, LLM 호출, M-2 형식 JSON 생성
- **입력:** 벤치마킹 결과, RAG 검색 결과
- **출력:** Launch_Readiness_Score, Status, Summary_For_User, C/P/L/O 세부 점수 등 (API 명세서 M-2 참조)

### 4.5 core/strategist.py
- **역할:** Fix_Guide(대안), 7단계 체크리스트 생성
- **입력:** analyzer 출력
- **출력:** 사용자용 요약 문구, 수정 가이드 목록, 체크리스트

### 4.6 utils/prompts.py
- **역할:** IT 전문 변호사·런칭 코치 페르소나, JSON 스키마 안내용 프롬프트 상수/함수
- **산출물:** 시스템 프롬프트, Few-shot 예시(선택)

### 4.7 utils/ui_helper.py
- **역할:** 게이지 차트, 신호등 색상, 카드형 위젯 등 Streamlit용 시각화 헬퍼
- **입력:** 점수, 상태, 텍스트
- **출력:** Streamlit 컴포넌트 호출

---

## 5. 데이터 설계 (Data Design)

### 5.1 리스크 지수 RS (기획안 M-1)

- **공식:** \( RS = (C \times 0.4) + (P \times 0.2) + (L \times 0.2) + (O \times 0.2) \)
- **C (Copyright):** 타겟과의 기능/문구 유사도 (0~1 정규화)
- **P (Policy):** 스토어 정책 위반 가능성 (0~1)
- **L (Legal):** 관련 법령·판례 엄격성 (0~1)
- **O (Originality):** 제안 기획의 차별성 (0~1)

### 5.2 UX 출력 표준 M-2 (요약)

- **Launch_Readiness_Score:** 0~100
- **Status:** `Ready` | `Needs Fix` | `Blocker`
- **Summary_For_User:** 코치 톤 요약
- **Fix_Guide:** 대안 제시 목록
- (상세 스키마는 API명세서.md 참조)

### 5.3 ChromaDB 컬렉션

- **컬렉션:** 법령·판례·스토어정책 등 별도 또는 통합 컬렉션
- **메타데이터:** 원천 ID, 법령번호, 공포일, 시행일, 출처 URL 등 (Source First 원칙)
- **청킹:** 문맥 유지형 청킹(Context-aware Chunking), 법률 문맥 단위

---

## 6. UI/UX 명세 (UI/UX Specification)

### 6.1 대시보드 구성

1. **상단:** 앱 타이틀, 한 줄 소개 (“AI 런칭 코치”)
2. **입력 영역:** URL 입력 필드, “분석하기” 버튼
3. **결과 영역:**
   - 출시 준비도 게이지(0~100)
   - Status 신호등 (Ready=녹색, Needs Fix=노랑, Blocker=빨강)
   - C/P/L/O 세부 점수 차트 또는 카드
   - Summary_For_User 텍스트
   - Fix_Guide 리스트, 7단계 체크리스트

### 6.2 톤 & 메시지

- 공포 유발 X, “함께 런칭 준비하는 파트너” 톤
- “이렇게 바꾸면 가능하다” 관점의 대안 제시
- 법률 용어는 가능한 한 일반 개발자 언어로 풀어서 표기

---

## 7. 산출물 및 인도 기준

| 산출물 | 담당 영역 | 검수 기준 |
|--------|-----------|-----------|
| app.py | UI/UX | Streamlit 실행 가능, 명세 6.1 반영 |
| core/*.py | Builder / Strategy | Type Hint, 예외 처리, 개발명세·API 명세 준수 |
| database/ | Builder | ChromaDB 스키마·메타데이터 정합성 |
| utils/prompts.py | Strategy | M-2 JSON 형식 준수 |
| 문서 (본 명세, API 명세) | 공통 | 변경 시 버전·날짜 갱신 |

---

*문서 끝. 변경 이력은 개발일지 또는 버전 관리로 추적한다.*
